<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EVENT INVITATION & RSVP</title>
    <link rel="stylesheet" href="index.css">
    <style>
        /* Additional styles to enhance contact section visibility and layout */
        .contact-section {
            padding: 2rem;
            max-width: 100%;
            margin: 0 auto;
            text-align: left;
            display: block !important;
        }
        .contact-section form {
            max-width: 600px;
            margin: 1em auto 0 auto;
            display: flex;
            flex-direction: column;
            gap: 0.7em;
        }
        .contact-section p {
            text-align: left;
            max-width: 600px;
            margin: 0 auto 1em auto;
        }
        /* Center the navigation links */
        .navbar {
            justify-content: center;
            position: relative;
        }
        .navbar-brand {
            position: absolute;
            left: 2rem;
            margin: 0;
        }
        .navbar-links {
            margin: 0;
            justify-content: center;
        }
        @media (max-width: 768px) {
            .contact-section {
                padding: 1rem;
            }
            .contact-section form {
                max-width: 100%;
            }
            .navbar-brand {
                position: static;
                left: auto;
            }
            .navbar {
                flex-direction: column;
                gap: 1rem;
            }
            .navbar-links {
                margin: 0;
            }
        }
        /* Auth Modal Styles */
        .auth-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .auth-modal-overlay.active {
            display: flex;
        }
        .auth-section {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            max-width: 400px;
            width: 90%;
            position: relative;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .auth-modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }
        .auth-tabs {
            display: flex;
            margin-bottom: 1rem;
        }
        .auth-tabs .tab-btn {
            flex: 1;
            padding: 0.75rem;
            background: #f8f9fa;
            border: none;
            cursor: pointer;
            font-weight: bold;
        }
        .auth-tabs .tab-btn.active {
            background: #007bff;
            color: white;
        }
        .auth-tabs .tab-btn:hover {
            background: #e9ecef;
        }
        .auth-tabs .tab-btn.active:hover {
            background: #0056b3;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .auth-section form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .auth-section label {
            font-weight: bold;
        }
        .auth-section input {
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .auth-section button {
            background: #007bff;
            color: white;
            border: none;
            padding: 0.75rem;
            border-radius: 4px;
            cursor: pointer;
        }
        .auth-section button:hover {
            background: #0056b3;
        }
        .auth-section button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        .auth-message {
            margin-top: 1rem;
            padding: 0.5rem;
            border-radius: 4px;
            display: none;
        }
        .auth-message.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .auth-message.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .auth-link {
            text-align: center;
            margin-top: 1rem;
            font-size: 0.9rem;
        }
        .auth-link a {
            color: #007bff;
            text-decoration: none;
        }
        .google-signin {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            background: #4285f4;
            color: white;
            border: none;
            padding: 0.75rem;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
            font-size: 1rem;
        }
        .google-signin:hover {
            background: #3367d6;
        }
        .google-signin img {
            width: 18px;
            height: 18px;
        }
        .github-signin {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            background: #24292e;
            color: white;
            border: none;
            padding: 0.75rem;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
            font-size: 1rem;
            text-decoration: none;
        }
        .github-signin:hover {
            background: #1a1f23;
        }
        .github-signin img {
            width: 18px;
            height: 18px;
        }
        .microsoft-signin {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            background: #0078d4;
            color: white;
            border: none;
            padding: 0.75rem;
            border-radius: 4px;
            cursor: pointer;
            width: 100%;
            font-size: 1rem;
            text-decoration: none;
        }
        .microsoft-signin:hover {
            background: #106ebe;
        }
        .microsoft-signin img {
            width: 18px;
            height: 18px;
        }
        .divider {
            text-align: center;
            margin: 1rem 0;
            position: relative;
        }
        .divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: #ddd;
        }
        .divider span {
            background: white;
            padding: 0 1rem;
            color: #666;
        }
        .social-logins {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        /* Verification Modal */
        .verify-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1001;
        }
        .verify-modal-overlay.active {
            display: flex;
        }
        .verify-section {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            max-width: 400px;
            width: 90%;
            position: relative;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        .verify-section input {
            text-align: center;
            font-size: 1.2rem;
            letter-spacing: 0.5rem;
            margin: 1rem 0;
        }
        .resend-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            margin-top: 1rem;
        }
        .resend-btn:hover {
            background: #218838;
        }
        .resend-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        /* RSVP Modal Styles */
        .rsvp-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .rsvp-modal-overlay.active {
            display: flex;
        }
        .rsvp-section {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            max-width: 400px;
            width: 90%;
            position: relative;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .rsvp-modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
        }
        .rsvp-section form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .rsvp-section label {
            font-weight: bold;
        }
        .rsvp-section input, .rsvp-section select {
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        .rsvp-section button {
            background: #007bff;
            color: white;
            border: none;
            padding: 0.75rem;
            border-radius: 4px;
            cursor: pointer;
        }
        .rsvp-section button:hover {
            background: #0056b3;
        }
        .rsvp-message {
            margin-top: 1rem;
            padding: 0.5rem;
            border-radius: 4px;
            display: none;
        }
        .rsvp-message.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .rsvp-message.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
  <div class="universe" aria-hidden="true">
    <div class="stars"></div>
    <div class="sun"></div>
    <div class="orbit"><div class="earth"></div></div>
  </div>
  <nav class="navbar">
    <div class="navbar-brand">Event RSVP</div>
    <ul class="navbar-links">
      <li><a href="#events" class="nav-link nav-home active">Home</a></li>
      <li><a href="#about" class="nav-link nav-about">About</a></li>
      <li><a href="#contact" class="nav-link nav-contact">Contact</a></li>
      <li><a href="#login" class="nav-link nav-login">Login / Register</a></li>
    </ul>
  
  </nav>
  <main class="main-content">
    <section class="event-cards" id="events">
      <div class="event-card" data-event="culture">
        <img src="https://images.unsplash.com/photo-1511285560929-80b456fea0bc?ixlib=rb-4.0.3&w=100&h=100&fit=crop&q=80" alt="Vibrant cultural festival celebration" width="100px" height="100px" style="border-radius: 100%;">
        <h2>Culture Gala 2026</h2>
        <p><strong>Date:</strong> October 8, 2026<br>
        <strong>Time:</strong> 7:00 PM - 11:00 PM<br>
        <strong>Location:</strong> Graduation Square<br>
        <strong>Capacity:</strong> 500 guests<br>
        <strong>Ticket Price:</strong> $25 (General Admission)</p>
        <p>Celebrate world cultures with music, dance, and vibrant performances from around the globe. Highlights include live folk dances from Asia, Latin American rhythms, African drumming sessions, and international cuisine tasting.</p>
        <div class="event-video">
          <h3>Event Recap Video</h3>
          <iframe width="100%" height="200" src="https://www.youtube.com/embed/cPk1o_4TkGE" title="2025 World Cultural Dance Festival Promotional Video" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        </div>
        <ul class="event-highlights">
          <li>üé≠ Featured Performers: International Dance Ensemble & Global Music Collective</li>
          <li>‚úÇ Interactive Workshops: Cultural Craft Making & Language Taster Sessions</li>
          <li>ü§ù Networking Mixer: Connect with cultural enthusiasts and experts</li>
        </ul>
        <button class="book-btn">Book</button>
      </div>
      <div class="event-card" data-event="worship">
        <img src="worship event.jpeg" alt="Crowd at worship concert with hands raised" width="100px" height="100px" style="border-radius: 100%;">
        <h2>Worship Event 2026</h2>
        <p><strong>Date:</strong> November 15, 2026<br>
        <strong>Time:</strong> 6:00 PM - 9:00 PM<br>
        <strong>Location:</strong> Old Auditorium, 12 Heritage Road<br>
        <strong>Capacity:</strong> 300 seats<br>
        <strong>Ticket Price:</strong> Free (Donations Welcome)</p>
        <p>Join us for a soulful evening of music, reflection, and community worship. Experience uplifting contemporary worship songs, guided meditations, and heartfelt testimonies shared by community members.</p>
        <div class="event-video">
          <h3>Preview Video</h3>
          <iframe width="100%" height="200" src="https://www.youtube.com/embed/m2lT7GNN9Jc" title="God So Good: The Full Concert Experience | Life.Church Worship" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        </div>
        <ul class="event-highlights">
          <li>üé§ Featured Artists: Worship Band "Harmony Voices" & Guest Speaker Rev. Elena Torres</li>
          <li>üôè Activities: Prayer Circles, Live Acoustic Sets, and Fellowship Dinner</li>
          <li>üí´ Special Focus: Themes of Gratitude and Renewal</li>
        </ul>
        <button class="book-btn">Book</button>
      </div>
      <div class="event-card virtual-event" data-event="virtual-worship">
        <img src="worship.jpeg" alt="Virtual worship service on laptop screen" width="100px" height="100px" style="border-radius: 100%;">
        <h2>Virtual Worship Gathering 2026 <span class="virtual-badge">üåê Virtual</span></h2>
        <p><strong>Date:</strong> November 22, 2026<br>
        <strong>Time:</strong> 7:00 PM - 8:30 PM<br>
        <strong>Location:</strong> Online via Zoom<br>
        <strong>Capacity:</strong> Unlimited<br>
        <strong>Ticket Price:</strong> Free</p>
        <p>Connect from anywhere in the world for an inspiring virtual worship experience. Enjoy live-streamed music, interactive prayer sessions, and a message of hope and encouragement.</p>
        <div class="event-video">
          <h3>Sample Virtual Session</h3>
          <iframe width="100%" height="200" src="https://www.youtube.com/embed/lPbR-xccRkU" title="Let us Worship - Live from Sacramento - Full Concert Film" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        </div>
        <ul class="event-highlights">
          <li>üìπ Featured: Live stream hosted by "Harmony Voices" & Guest Speaker via Video</li>
          <li>üí¨ Interactive Features: Live Chat Prayers, Virtual Breakout Rooms for Discussion, and Post-Event Replay</li>
          <li>üåç Theme: "Faith Without Borders" ‚Äì Building Community in the Digital Age</li>
        </ul>
        <button class="book-btn">Book</button>
      </div>
      <div class="event-card" data-event="tech">
        <img src="https://images.unsplash.com/photo-1517433456452-f9633a875f6f?ixlib=rb-4.0.3&w=100&h=100&fit=crop&q=80" alt="Innovative tech conference attendees" width="100px" height="100px" style="border-radius: 100%;">
        <h2>Tech Expo 2025</h2>
        <p><strong>Date:</strong> December 5, 2026<br>
        <strong>Time:</strong> 10:00 AM - 5:00 PM<br>
        <strong>Location:</strong> Lab 1, Innovation Campus<br>
        <strong>Capacity:</strong> Unlimited (First-Come, First-Served)<br>
        <strong>Ticket Price:</strong> $15 (Early Bird) / $20 (Door)</p>
        <p>Explore the latest in technology, gadgets, and innovation. Discover cutting-edge demos, startup pitches, and hands-on workshops on AI, VR, and sustainable tech solutions.</p>
        <div class="event-video">
          <h3>Expo Highlights</h3>
          <iframe width="100%" height="200" src="https://www.youtube.com/embed/M-CBDQrAeOM" title="Defence & Tech Expo 2025 Chennai | India‚Äôs Innovation Hub" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        </div>
        <ul class="event-highlights">
          <li>üé§ Keynote Speakers: Dr. Alex Rivera (AI Pioneer) & Sarah Chen (VR Innovator)</li>
          <li>üì± Exhibits: 20+ Booths with Drones, Smart Devices, and Blockchain Demos</li>
          <li>ü§ù Networking: Panel Discussions, Speed Mentoring, and Tech Happy Hour</li>
        </ul>
        <button class="book-btn">Book</button>
      </div>
      <div class="event-card virtual-event" data-event="virtual-tech">
        <img src="https://images.unsplash.com/photo-1677442136019-21780ecad995?ixlib=rb-4.0.3&w=100&h=100&fit=crop&q=80" alt="Virtual AI workshop with digital screens" width="100px" height="100px" style="border-radius: 100%;">
        <h2>Virtual AI Workshop 2025 <span class="virtual-badge">üåê Virtual</span></h2>
        <p><strong>Date:</strong> November 20, 2026<br>
        <strong>Time:</strong> 2:00 PM - 4:00 PM<br>
        <strong>Location:</strong> Online via Zoom<br>
        <strong>Capacity:</strong> 100 participants<br>
        <strong>Ticket Price:</strong> Free (Registration Required)</p>
        <p>Dive into the world of artificial intelligence with interactive sessions led by industry experts. Perfect for beginners and enthusiasts alike.</p>
        <div class="event-video">
          <h3>Workshop Preview</h3>
          <iframe width="100%" height="200" src="https://www.youtube.com/embed/Yq0QkCxoTHM" title="Google‚Äôs AI Course for Beginners (in 10 minutes)!" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        </div>
        <ul class="event-highlights">
          <li>üë©‚Äçüíª Instructor: Dr. Mia Lopez, AI Specialist at TechNova</li>
          <li>üß† Topics: Machine Learning Basics, Ethical AI Considerations, and Simple Model Building</li>
          <li>üîß Interactive Elements: Live Coding Sessions, Breakout Rooms for Group Projects, and Real-Time Q&A</li>
        </ul>
         <button class="book-btn">Book</button>
      </div>
      <div class="event-card virtual-event" data-event="virtual-culture">
        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&w=100&h=100&fit=crop&q=80" alt="Virtual storytelling session with global participants" width="100px" height="100px" style="border-radius: 100%;">
        <h2>Virtual Global Stories Night <span class="virtual-badge">üåê Virtual</span></h2>
        <p><strong>Date:</strong> December 10, 2026<br>
        <strong>Time:</strong> 8:00 PM - 9:30 PM<br>
        <strong>Location:</strong> Online via YouTube Live<br>
        <strong>Capacity:</strong> Unlimited<br>
        <strong>Ticket Price:</strong> Donation-based (Suggested $10)</p>
        <p>Immerse yourself in captivating tales from storytellers around the world, fostering connection and cultural exchange from the comfort of your home.</p>
        <div class="event-video">
          <h3>Storytelling Preview</h3>
          <iframe width="100%" height="200" src="https://www.youtube.com/embed/hNuAv-42jzY" title="Give me 9min, and I'll improve your storytelling skills by 176%" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
        </div>
        <ul class="event-highlights">
          <li>üìñ Featured Storytellers: Voices from 5 Continents, Including Indigenous Narrators and Diaspora Authors</li>
          <li>üí¨ Interactive Features: Live Chat Polls, Audience Shoutouts, and Post-Event Discussion Forum</li>
          <li>üåç Theme: Unity in Diversity ‚Äì Stories of Resilience and Shared Humanity</li>
        </ul>
        <button class="book-btn">Book</button>
      </div>
    </section>
    <div class="rsvp-modal-overlay" id="rsvp-modal">
      <section class="rsvp-section" id="rsvp-section" style="display:none;">
        <button class="rsvp-modal-close" id="rsvp-close" title="Close">&times;</button>
        <h2 id="rsvp-event-name"></h2>
        <form id="rsvp-form" autocomplete="off">
          <label for="name">Your Name:</label>
          <input type="text" id="name" name="name" required>
          <label for="attending">Will you attend?</label>
          <select id="attending" name="attending" required>
            <option value="">Select</option>
            <option value="yes">Yes, I'll be there!</option>
            <option value="no">Sorry, can't make it</option>
          </select>
          <button class="book-btn">Book</button>
        </form>
        <div id="rsvp-message" class="rsvp-message" style="display:none;"></div>
      </section>
    </div>
    <!-- Auth Modal -->
    <div class="auth-modal-overlay" id="auth-modal">
      <section class="auth-section" id="auth-section">
        <button class="auth-modal-close" id="auth-close" title="Close">&times;</button>
        <div class="auth-tabs">
          <button class="tab-btn active" data-tab="login">Login</button>
          <button class="tab-btn" data-tab="register">Register</button>
        </div>
        <div class="auth-content">
          <!-- Login Tab -->
          <div id="login-tab" class="tab-content active">
            <h2>Login to Your Account</h2>
            <!-- Google Sign-In -->
            <div id="g_id_onload"
                 data-client_id="YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com"
                 data-callback="handleGoogleLogin"
                 data-auto_prompt="false">
            </div>
            <div class="g_id_signin" data-type="standard"></div>
            <!-- GitHub Sign-In Button -->
            <a href="#" id="github-signin-btn" class="github-signin">
              <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub">
              Sign in with GitHub
            </a>
            <!-- Microsoft Sign-In Button -->
            <a href="#" id="microsoft-signin-btn" class="microsoft-signin">
              <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/Microsoft_logo.svg/18px-Microsoft_logo.svg.png" alt="Microsoft">
              Sign in with Microsoft
            </a>
            <div class="divider">
              <span>or</span>
            </div>
            <form id="login-form" autocomplete="off">
              <label for="email">Email:</label>
              <input type="email" id="email" name="email" required>
              <label for="password">Password:</label>
              <input type="password" id="password" name="password" required>
              <button type="submit">Login</button>
            </form>
            <div id="login-message" class="auth-message"></div>
          </div>
          <!-- Register Tab -->
          <div id="register-tab" class="tab-content">
            <h2>Create Your Account</h2>
            <!-- Social logins can be reused here -->
            <div class="social-logins">
              <button type="button" class="google-signin" id="google-register-btn">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/18px-Google_%22G%22_Logo.svg.png" alt="Google">
                Register with Google
              </button>
              <a href="#" id="github-register-btn" class="github-signin">
                <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="GitHub">
                Register with GitHub
              </a>
              <a href="#" id="microsoft-register-btn" class="microsoft-signin">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/44/Microsoft_logo.svg/18px-Microsoft_logo.svg.png" alt="Microsoft">
                Register with Microsoft
              </a>
            </div>
            <div class="divider">
              <span>or</span>
            </div>
            <form id="register-form" autocomplete="off">
              <label for="reg-name">Full Name:</label>
              <input type="text" id="reg-name" name="reg-name" required>
              <label for="reg-email">Email:</label>
              <input type="email" id="reg-email" name="reg-email" required>
              <label for="reg-password">Password:</label>
              <input type="password" id="reg-password" name="reg-password" required minlength="6">
              <label for="reg-confirm-password">Confirm Password:</label>
              <input type="password" id="reg-confirm-password" name="reg-confirm-password" required>
              <button type="submit">Register</button>
            </form>
            <div id="register-message" class="auth-message"></div>
          </div>
        </div>
      </section>
    </div>
    <!-- Email Verification Modal -->
    <div class="verify-modal-overlay" id="verify-modal">
      <section class="verify-section" id="verify-section">
        <h2>Verify Your Email</h2>
        <p>We've sent a 6-digit verification code to your email. Please enter it below.</p>
        <input type="text" id="verify-code" maxlength="6" placeholder="000000" pattern="\d{6}">
        <button id="verify-submit">Verify</button>
        <button class="resend-btn" id="resend-code">Resend Code</button>
        <div id="verify-message" class="auth-message" style="text-align: left;"></div>
      </section>
    </div>
    <section class="about-section" id="about" style="display:none;">
      <h2>About</h2>
      <p>Welcome to our event platform! Book and RSVP for the best events in town. We bring together culture, worship, and technology in one place for your convenience and joy. Now featuring virtual events for global accessibility!</p>
      <ul style="text-align:left;max-width:400px;margin:1em auto 0 auto;">
        <li>Easy event booking</li>
        <li>Instant RSVP confirmation</li>
        <li>Modern, responsive design</li>
        <li>Secure and private</li>
        <li>Hybrid & Virtual Options</li>
      </ul>
    </section>
    <section class="contact-section" id="contact" style="display:none;">
      <h2>Contact</h2>
      <p>Email: <a href="mailto:indekeja@yahoo.com">indekeja@yahoo.com</a><br>Phone: +255748815338</p>
      <form id="contact-form" style="margin-top:1em;display:flex;flex-direction:column;gap:0.7em;max-width:600px;margin-left:auto;margin-right:auto;">
        <label for="contact-name">Your Name:</label>
        <input type="text" id="contact-name" name="contact-name" required>
        <label for="contact-message">Message:</label>
        <textarea id="contact-message" name="contact-message" rows="3" required></textarea>
        <button type="submit">Send Message</button>
        <div id="contact-success" style="display:none;color:#4caf50;font-weight:bold;margin-top:0.5em;">Thank you for contacting us!</div>
      </form>
    </section>
  </main>
  <!-- Google Identity Services Script -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <script>
    // GitHub OAuth Configuration
    const GITHUB_CLIENT_ID = 'YOUR_GITHUB_CLIENT_ID'; // Replace with your GitHub OAuth App Client ID
    const GITHUB_REDIRECT_URI = window.location.origin + window.location.pathname; // Current page URL

    // Microsoft OAuth Configuration
    const MICROSOFT_CLIENT_ID = 'YOUR_MICROSOFT_CLIENT_ID'; // Replace with your Microsoft Azure AD App Client ID
    const MICROSOFT_TENANT = 'common'; // Use 'common' for multi-tenant, or specific tenant ID
    const MICROSOFT_REDIRECT_URI = window.location.origin + window.location.pathname; // Current page URL

    // Demo credentials for email/password
    const DEMO_EMAIL = 'email@test.com';
    const DEMO_PASSWORD = 'password123';

    // User storage
    let currentUser = localStorage.getItem('currentUser') ? JSON.parse(localStorage.getItem('currentUser')) : null;
    let pendingUser = null; // For verification
    let verificationCode = null;
    let resendTimeout = null;

    // PKCE Helper Functions
    function generateCodeVerifier() {
      const array = new Uint8Array(32);
      crypto.getRandomValues(array);
      return btoa(String.fromCharCode(...array)).replace(/\+/g, '-').replace(/\//g, '_').replace(/=/g, '');
    }

    async function generateCodeChallenge(verifier) {
      const encoder = new TextEncoder();
      const data = encoder.encode(verifier);
      const digest = await crypto.subtle.digest('SHA-256', data);
      return btoa(String.fromCharCode(...new Uint8Array(digest)))
        .replace(/\+/g, '-').replace(/\//g, '_').replace(/=/g, '');
    }

    function generateVerificationCode() {
      return Math.floor(100000 + Math.random() * 900000).toString(); // 6-digit code
    }

    function showAuthError(message, tab = 'login') {
      const msgEl = document.getElementById(`${tab}-message`);
      msgEl.textContent = message;
      msgEl.className = 'auth-message error';
      msgEl.style.display = 'block';
    }

    function showAuthSuccess(username, displayName, provider, tab = 'login') {
      const msgEl = document.getElementById(`${tab}-message`);
      msgEl.textContent = `Welcome, ${displayName}! ${provider} ${tab === 'register' ? 'registration' : 'login'} successful.`;
      msgEl.className = 'auth-message success';
      msgEl.style.display = 'block';
      
      // Store user
      currentUser = { username, displayName, provider, verified: true };
      localStorage.setItem('currentUser', JSON.stringify(currentUser));
      
      // Simulate delay and close
      setTimeout(() => {
        closeAuthModal();
        // Update navbar
        const loginLink = document.querySelector('.nav-login');
        loginLink.textContent = `Welcome, ${displayName}! (Logout)`;
        loginLink.href = '#logout';
        loginLink.addEventListener('click', handleLogout);
      }, 2000);
    }

    function showVerifyError(message) {
      const msgEl = document.getElementById('verify-message');
      msgEl.textContent = message;
      msgEl.className = 'auth-message error';
      msgEl.style.display = 'block';
    }

    function showVerifySuccess() {
      const msgEl = document.getElementById('verify-message');
      msgEl.textContent = 'Email verified successfully! You can now log in.';
      msgEl.className = 'auth-message success';
      msgEl.style.display = 'block';
      
      // Complete registration
      const users = JSON.parse(localStorage.getItem('users') || '[]');
      const userIndex = users.findIndex(u => u.email === pendingUser.email && !u.verified);
      if (userIndex !== -1) {
        users[userIndex].verified = true;
        localStorage.setItem('users', JSON.stringify(users));
      }
      
      // Auto-login after verification
      setTimeout(() => {
        closeVerifyModal();
        showAuthSuccess(pendingUser.email, pendingUser.name, 'Email', 'register');
      }, 1500);
    }

    function handleLogout(e) {
      e.preventDefault();
      localStorage.removeItem('currentUser');
      currentUser = null;
      const loginLink = document.querySelector('.nav-login');
      loginLink.textContent = 'Login / Register';
      loginLink.href = '#login';
      loginLink.removeEventListener('click', handleLogout);
      alert('Logged out successfully!');
    }

    // Email "send" simulation
    function sendVerificationEmail(email, code, name) {
      // In production, use EmailJS, Nodemailer (backend), or similar
      // For demo: Alert the code (simulate email)
      alert(`Verification code sent to ${email}!\n\nCode: ${code}\n\n(For demo purposes, the code is shown here. In production, it would be emailed.)`);
      return code;
    }

    // OAuth callbacks (placeholders for demo)
    async function handleGitHubCallback() {
      // Placeholder: Full PKCE logic for production
      console.log('GitHub callback handled');
    }

    async function handleMicrosoftCallback() {
      // Placeholder: Full PKCE logic for production
      console.log('Microsoft callback handled');
    }

    // GitHub login demo (placeholder)
    document.addEventListener('DOMContentLoaded', function() {
      const githubSigninBtn = document.getElementById('github-signin-btn');
      githubSigninBtn.addEventListener('click', async function(e) {
        e.preventDefault();
        alert('GitHub login: Integrate OAuth for production. Demo success!');
        showAuthSuccess('githubuser', 'GitHub User', 'GitHub');
      });
    });

    // Similar for Microsoft
    document.addEventListener('DOMContentLoaded', function() {
      const microsoftSigninBtn = document.getElementById('microsoft-signin-btn');
      microsoftSigninBtn.addEventListener('click', async function(e) {
        e.preventDefault();
        alert('Microsoft login: Integrate OAuth for production. Demo success!');
        showAuthSuccess('msuser', 'MS User', 'Microsoft');
      });
    });

    document.addEventListener('DOMContentLoaded', function() {
      // Check for OAuth callbacks on load
      handleGitHubCallback();
      handleMicrosoftCallback();

      // Update navbar if already logged in
      if (currentUser && currentUser.verified) {
        const loginLink = document.querySelector('.nav-login');
        loginLink.textContent = `Welcome, ${currentUser.displayName}! (Logout)`;
        loginLink.href = '#logout';
        loginLink.addEventListener('click', handleLogout);
      }

      // Navigation handling
      const navLinks = document.querySelectorAll('.nav-link');
      const sections = {
        home: document.getElementById('events'),
        about: document.getElementById('about'),
        contact: document.getElementById('contact')
      };

      navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          
          if (this.classList.contains('nav-login')) {
            openAuthModal();
            return;
          }
          
          navLinks.forEach(l => l.classList.remove('active'));
          this.classList.add('active');
          
          Object.values(sections).forEach(section => {
            section.style.display = 'none';
          });
          
          const targetId = this.getAttribute('href').substring(1);
          const targetSection = sections[targetId] || sections.home;
          targetSection.style.display = 'block';
        });
      });

      // Auth Modal Handling
      const authModal = document.getElementById('auth-modal');
      const authSection = document.getElementById('auth-section');
      const authClose = document.getElementById('auth-close');
      const tabBtns = document.querySelectorAll('.tab-btn');
      const tabContents = document.querySelectorAll('.tab-content');
      const loginForm = document.getElementById('login-form');
      const registerForm = document.getElementById('register-form');
      const loginMessage = document.getElementById('login-message');
      const registerMessage = document.getElementById('register-message');
      const githubRegisterBtn = document.getElementById('github-register-btn');
      const microsoftRegisterBtn = document.getElementById('microsoft-register-btn');

      function openAuthModal() {
        authModal.classList.add('active');
        authSection.style.display = 'block';
      }

      function closeAuthModal() {
        authModal.classList.remove('active');
        authSection.style.display = 'none';
        loginForm.reset();
        registerForm.reset();
        loginMessage.style.display = 'none';
        registerMessage.style.display = 'none';
        tabBtns.forEach(btn => btn.classList.remove('active'));
        tabContents.forEach(content => content.classList.remove('active'));
        document.querySelector('[data-tab="login"]').classList.add('active');
        document.getElementById('login-tab').classList.add('active');
      }

      authClose.addEventListener('click', closeAuthModal);
      authModal.addEventListener('click', function(e) {
        if (e.target === this) {
          closeAuthModal();
        }
      });

      // Tab switching
      tabBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          tabBtns.forEach(b => b.classList.remove('active'));
          tabContents.forEach(c => c.classList.remove('active'));
          btn.classList.add('active');
          document.getElementById(`${btn.dataset.tab}-tab`).classList.add('active');
        });
      });

      // Register social buttons (reuse login)
      githubRegisterBtn.addEventListener('click', async function(e) {
        e.preventDefault();
        // Simulate GitHub register as login
        alert('GitHub register: Demo success!');
        showAuthSuccess('githubuser', 'GitHub User', 'GitHub', 'register');
      });

      microsoftRegisterBtn.addEventListener('click', async function(e) {
        e.preventDefault();
        // Simulate Microsoft register as login
        alert('Microsoft register: Demo success!');
        showAuthSuccess('msuser', 'MS User', 'Microsoft', 'register');
      });

      window.handleGoogleLogin = function(response) {
        try {
          const payload = JSON.parse(atob(response.credential.split('.')[1]));
          const userEmail = payload.email;
          const userName = payload.name;
          showAuthSuccess(userEmail, userName, 'Google');
        } catch (err) {
          console.error('Google Login Error:', err);
          showAuthError('Google login failed: Invalid token');
        }
      };

      const googleRegisterBtn = document.getElementById('google-register-btn');
      googleRegisterBtn.addEventListener('click', function() {
        document.querySelector('.g_id_signin').click();
      });

      // Email/Password login - Check verification
      loginForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const formData = new FormData(this);
        const email = formData.get('email');
        const password = formData.get('password');
        
        if (!email || !password) {
          showAuthError('Please fill in all fields.');
          return;
        }

        if (email === DEMO_EMAIL && password === DEMO_PASSWORD) {
          // Check if verified
          const users = JSON.parse(localStorage.getItem('users') || '[]');
          const user = users.find(u => u.email === email);
          if (user && !user.verified) {
            showAuthError('Please verify your email before logging in.');
            return;
          }
          showAuthSuccess(email, email, 'Email');
        } else {
          showAuthError('Invalid email or password. Demo: email@test.com / password123');
        }
      });

      // Registration form handling with verification
      registerForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const formData = new FormData(this);
        const name = formData.get('reg-name');
        const email = formData.get('reg-email');
        const password = formData.get('reg-password');
        const confirmPassword = formData.get('reg-confirm-password');
        
        if (!name || !email || !password || !confirmPassword) {
          showAuthError('Please fill in all fields.', 'register');
          return;
        }
        
        if (password.length < 6) {
          showAuthError('Password must be at least 6 characters.', 'register');
          return;
        }
        
        if (password !== confirmPassword) {
          showAuthError('Passwords do not match.', 'register');
          return;
        }
        
        // Check if user already exists
        const users = JSON.parse(localStorage.getItem('users') || '[]');
        if (users.find(u => u.email === email)) {
          showAuthError('An account with this email already exists. Please login or use a different email.', 'register');
          return;
        }
        
        // Generate and "send" code
        verificationCode = generateVerificationCode();
        pendingUser = { name, email, password };
        sendVerificationEmail(email, verificationCode, name);
        
        // Store pending user (unverified)
        users.push({ ...pendingUser, verified: false });
        localStorage.setItem('users', JSON.stringify(users));
        
        // Show verification modal
        registerMessage.textContent = 'Registration successful! Please check your email for verification code.';
        registerMessage.className = 'auth-message success';
        registerMessage.style.display = 'block';
        setTimeout(() => {
          closeAuthModal();
          openVerifyModal();
        }, 1500);
      });

      // Verification Modal Handling
      const verifyModal = document.getElementById('verify-modal');
      const verifySection = document.getElementById('verify-section');
      const verifyCodeInput = document.getElementById('verify-code');
      const verifySubmit = document.getElementById('verify-submit');
      const resendBtn = document.getElementById('resend-code');
      const verifyMessage = document.getElementById('verify-message');

      function openVerifyModal() {
        verifyModal.classList.add('active');
        verifySection.style.display = 'block';
        verifyCodeInput.focus();
      }

      function closeVerifyModal() {
        verifyModal.classList.remove('active');
        verifySection.style.display = 'none';
        verifyCodeInput.value = '';
        verifyMessage.style.display = 'none';
        if (resendTimeout) {
          clearTimeout(resendTimeout);
        }
      }

      verifySubmit.addEventListener('click', function() {
        const code = verifyCodeInput.value.trim();
        if (code.length !== 6 || !/^\d{6}$/.test(code)) {
          showVerifyError('Please enter a valid 6-digit code.');
          return;
        }
        
        if (code === verificationCode) {
          showVerifySuccess();
        } else {
          showVerifyError('Invalid code. Please try again or resend.');
          verifyCodeInput.value = '';
        }
      });

      // Resend code
      resendBtn.addEventListener('click', function() {
        if (!pendingUser) return;
        
        resendBtn.disabled = true;
        resendBtn.textContent = 'Resending...';
        
        verificationCode = generateVerificationCode();
        sendVerificationEmail(pendingUser.email, verificationCode, pendingUser.name);
        
        setTimeout(() => {
          resendBtn.disabled = false;
          resendBtn.textContent = 'Resend Code';
          showVerifyError('Code resent! Check your email.');
        }, 1000);
      });

      // Allow Enter key for verification
      verifyCodeInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          verifySubmit.click();
        }
      });

      // RSVP integration (require verified user)
      const bookButtons = document.querySelectorAll('.book-btn');
      const rsvpModal = document.getElementById('rsvp-modal');
      const rsvpSection = document.getElementById('rsvp-section');
      const rsvpEventName = document.getElementById('rsvp-event-name');
      const rsvpNameInput = document.getElementById('name');
      const rsvpClose = document.getElementById('rsvp-close');
      const rsvpForm = document.getElementById('rsvp-form');
      const rsvpMessage = document.getElementById('rsvp-message');

      bookButtons.forEach(button => {
        button.addEventListener('click', function() {
          if (!currentUser || !currentUser.verified) {
            alert('Please register and verify your email to RSVP.');
            openAuthModal();
            return;
          }
          const eventCard = this.closest('.event-card');
          const eventName = eventCard.querySelector('h2').textContent;
          const eventDataAttr = eventCard.dataset.event;
          rsvpEventName.textContent = eventName;
          
          rsvpNameInput.value = currentUser.displayName;
          rsvpNameInput.disabled = true;
          
          let hiddenEventType = rsvpForm.querySelector('[name="event_type"]');
          if (!hiddenEventType) {
            hiddenEventType = document.createElement('input');
            hiddenEventType.type = 'hidden';
            hiddenEventType.name = 'event_type';
            rsvpForm.appendChild(hiddenEventType);
          }
          hiddenEventType.value = eventDataAttr;
          
          rsvpModal.classList.add('active');
          rsvpSection.style.display = 'block';
        });
      });

      // Close RSVP
      function closeRsvpModal() {
        rsvpModal.classList.remove('active');
        rsvpSection.style.display = 'none';
        rsvpForm.reset();
        rsvpNameInput.disabled = false;
        const hiddenEventType = rsvpForm.querySelector('[name="event_type"]');
        if (hiddenEventType) {
          rsvpForm.removeChild(hiddenEventType);
        }
        rsvpMessage.style.display = 'none';
      }

      rsvpClose.addEventListener('click', closeRsvpModal);
      rsvpModal.addEventListener('click', function(e) {
        if (e.target === this) {
          closeRsvpModal();
        }
      });

      rsvpForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const formData = new FormData(this);
        const name = formData.get('name');
        const attending = formData.get('attending');
        const eventType = formData.get('event_type');
        const eventName = rsvpEventName.textContent;
        
        if (name && attending && eventType) {
          rsvpMessage.textContent = attending === 'yes' 
            ? `Great! RSVP confirmed for ${eventName}, ${name}! We've notified the organizers.` 
            : `Thanks for letting us know, ${name}. Hope to see you next time!`;
          rsvpMessage.className = 'rsvp-message success';
          rsvpMessage.style.display = 'block';
          
          setTimeout(() => {
            closeRsvpModal();
          }, 2000);
        } else {
          rsvpMessage.textContent = 'Please fill in all fields.';
          rsvpMessage.className = 'rsvp-message error';
          rsvpMessage.style.display = 'block';
        }
      });

      // Contact form (unchanged)
      const contactForm = document.getElementById('contact-form');
      const contactSuccess = document.getElementById('contact-success');

      contactForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const formData = new FormData(this);
        const name = formData.get('contact-name');
        const message = formData.get('contact-message');
        
        if (name && message) {
          contactSuccess.textContent = 'Thank you for contacting us! Message sent successfully.';
          contactSuccess.style.display = 'block';
          this.reset();
          setTimeout(() => {
            contactSuccess.style.display = 'none';
            contactSuccess.textContent = 'Thank you for contacting us!';
          }, 3000);
        }
      });

      // Initial setup: Show home section (MOVED INSIDE DOMContentLoaded)
      sections.home.style.display = 'block';
    });
  </script>
</body>
</html>
